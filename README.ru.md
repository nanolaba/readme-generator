<!-- This file was automatically generated by Nanolaba Readme Generator (NRG) 0.2-SNAPSHOT -->
<!-- Visit https://github.com/nanolaba/readme-generator for details -->


[ [en](README.md) | **ru** ]

# Nanolaba Readme Generator (NRG)

**Nanolaba Readme Generator (NRG)** — это программа для автоматической генерации файлов в формате
[Markdown]( https://en.wikipedia.org/wiki/Markdown) на основе файла-прототипа.

## Краткое описание

С помощью программы **Nanolaba Readme Generator (NRG)** можно генерировать отдельные файлы для разных языков в формате
[Markdown]( https://en.wikipedia.org/wiki/Markdown) на основе единого файла-шаблона.
В шаблоне можно использовать переменные, а также специальные компоненты (виджеты).
Данный документ является примером результата работы этой программы.
Шаблон, из которого сгенерирован этот документ, доступен по ссылке -
[README.src.md](https://github.com/nanolaba/readme-generator/blob/main/README.src.md?plain=1).

Последняя стабильная версия - **0.1**.

Последняя версия разработки - **0.2-SNAPSHOT**.

**Nanolaba Readme Generator (NRG)** написан на Java и требует для запуска версии **Java 8** и выше.

Программа может быть запущена как:

* Консольное приложение,
* Плагин для maven,
* Добавлена к проекту в качестве сторонней библиотеки.


## Содержание
1. [Быстрый старт](#быстрый-старт)
1. [Способы запуска программы](#способы-запуска-программы)
	1. [Запуск из командной строки](#запуск-из-командной-строки)
	2. [Использование как плагина для maven](#использование-как-плагина-для-maven)
	3. [Использование в качестве java-библиотеки](#использование-в-качестве-java-библиотеки)
2. [Синтаксис шаблона](#синтаксис-шаблона)
	1. [Переменные](#переменные)
	2. [Свойства](#свойства)
	3. [Multilanguage support](#multilanguage-support)
	4. [Виджеты](#виджеты)
		1. [Виджет 'languages'](#виджет-languages)
        2. [Виджет 'import'](#виджет-import)
        3. [Виджет 'tableOfContents'](#виджет-tableofcontents)
		1. [Виджет 'date'](#виджет-date)
		2. [Виджет 'todo'](#виджет-todo)
1. [Обратная связь](#обратная-связь)


## Быстрый старт

**Шаг 1: Создайте шаблон (README.src.md)**

```markdown
<!--@nrg.languages=en,ru-->
<!--@nrg.defaultLanguage=en-->

<!--@title=**${en:'Hello, World!', ru:'Привет, Мир!'}**-->

${widget:languages}

# ${title}

${widget:tableOfContents(title = "${en:'Table of contents', ru:'Содержание'}", ordered = "true")}

## Part 1

### Chapter 1

English text<!--en-->
Русский текст<!--ru-->

${widget:import(path='path/to/your/file/another-info.src.md')}
```

**Шаг 2: Сгенерируйте файлы**

*Вариант 1:* [Скачайте](#запуск-из-командной-строки) программу и запустите в консоли команду:

```bash
nrg -f /path/to/README.src.md
```

*Вариант 2:* [Подключите](#использование-как-плагина-для-maven) к проекту плагин для maven.

**Результат**

<table>
<tr><th><b>README.md</b></th><th><b>README.ru.md</b></th></tr>
<tr><td>

```markdown
[ **en** | [ru](README.ru.md) ]

# Hello, World!

## Table of contents

1. [Part 1](#part-1)
    1. [Chapter 1](#chapter-1)

## Part 1

### Chapter 1

English text
```

</td><td>

```markdown
[ [en](README.md) | **ru** ]

# Привет, Мир!

## Содержание

1. [Part 1](#part-1)
    1. [Chapter 1](#chapter-1)

## Part 1

### Chapter 1

Русский текст
```

</td></tr></table>

## Способы запуска программы

### Запуск из командной строки

**Nanolaba Readme Generator (NRG)** написан на Java и требует для запуска версии **Java 8** и выше.
[Установите](https://www.java.com/en/download/) Java, если она отсутствует у вас в системе.

[Скачайте](https://github.com/nanolaba/readme-generator/releases/tag/v0.1) последнюю
стабильную версию приложения.

Разархивируйте скачанный архив. Если вы используете Unix-like системы, то назначьте файлу `nrg.sh` права
на исполнение:

```bash
chmod +x nrg.sh  
```

Теперь вы можете запустить программу для генерации файлов:

```bash
nrg -f /path/to/README.src.md
```

Чтобы посмотреть список доступных опций консольного приложения наберите:

```bash
nrg --help
```

### Использование как плагина для maven

Добавьте следующий код в ваш `pom.xml`:

```xml

<plugins>
    <plugin>
        <groupId>com.nanolaba</groupId>
        <artifactId>nrg-maven-plugin</artifactId>
        <version>0.1</version>
        <configuration>
            <file>
                <item>README.src.md</item>
                <item>another-file.src.md</item>
            </file>
        </configuration>
        <executions>
            <execution>
                <phase>compile</phase>
                <goals>
                    <goal>create-files</goal>
                </goals>
            </execution>
        </executions>
    </plugin>
</plugins>
```

Для использования SNAPSHOT-версий также необходимо добавить в `pom.xml` следующий код:

```xml

<pluginRepositories>
    <pluginRepository>
        <id>central.sonatype.com-snapshot</id>
        <url>https://central.sonatype.com/repository/maven-snapshots</url>
        <releases>
            <enabled>false</enabled>
        </releases>
        <snapshots>
            <enabled>true</enabled>
            <updatePolicy>always</updatePolicy>
        </snapshots>
    </pluginRepository>
</pluginRepositories>
```

### Использование в качестве java-библиотеки

**Maven (pom.xml)**

```xml

<dependency>
    <groupId>com.nanolaba</groupId>
    <artifactId>readme-generator</artifactId>
    <version>0.1</version>
</dependency>  
```

**Gradle (build.gradle)**

```groovy
implementation 'com.nanolaba:readme-generator:0.1'
```

**Скачивание вручную**

Скачайте JAR из [Maven Central](https://repo1.maven.org/maven2/com/nanolaba/readme-generator/0.1)
и добавьте его в classpath проекта.

После этого вы можете в своем проекте вызывать функцию создания файлов,
передав те же параметры, что и в консольном приложении, например:

```java
NRG.main("-f","path-to-file","--charset","UTF-8");
```

Альтернативным вариантом, а также более гибким в плане настройки поведения
программы, является использование класса `Generator`:

```java
package com.nanolaba.nrg.examples;

import com.nanolaba.nrg.core.GenerationResult;
import com.nanolaba.nrg.core.Generator;
import org.apache.commons.io.FileUtils;

import java.io.File;
import java.io.IOException;
import java.nio.charset.StandardCharsets;

public class GeneratorExample {

    public static void main(String[] args) throws IOException {

        Generator generator = new Generator(new File("template.md"), StandardCharsets.UTF_8);

        for (GenerationResult generationResult : generator.getResults()) {

            FileUtils.write(
                    new File("result." + generationResult.getLanguage() + ".md"),
                    generationResult.getContent(),
                    StandardCharsets.UTF_8);
        }
    }
}

```

## Синтаксис шаблона

### Переменные

Синтаксис шаблона поддерживает использование переменных.
Определение переменных происходит при помощи конструкции:

```markdown
<!--@variable_name=variable value-->
```

Вывод значения переменных происходит при помощи конструкции вида:

```markdown
${variable_name}
```

Чтобы вывести в файл конструкцию вида *${...}*, не заменяя ее значением
переменной, предварите ее символом '\\':

```markdown
\${variable_name}
```

<table>
<tr><th>Пример использования</th><th>Результат</th></tr>
<tr><td>

```markdown
<!--@app_name=My Application-->
<!--@app_version=**1.0.1**-->
<!--@app_descr=This is *${app_name}* version ${app_version}-->
${app_name} version ${app_version}
${app_descr}
\${app_descr}
```

</td><td>

```markdown
My Application version **1.0.1**
This is *My Application* version **1.0.1**
${app_descr}
```

</td></tr>
</table>

### Свойства

При помощи синтаксиса установки значений переменных в шаблоне можно указывать свойства приложения, например:

```markdown
<!--@nrg.languages=en,ru-->
<!--@nrg.defaultLanguage=en-->
```

**Свойства приложения:**

***nrg.languages***

Перечень языков, для которых будут сгенерированы файлы.
Для каждого языка, за исключением языка по-умолчанию, будет сгенерирован файл с
наименованием вида *source.language.md*, где source - наименование исходного файла, language - наименование
языка. Значение этого свойства по умолчанию - "en".

***nrg.defaultLanguage***

Язык, на котором будет сгенерирован главный файл документации.
Название языка должно содержаться в перечне, определенным в свойстве *nrg.languages*.
Значение этого свойства по умолчанию - первый элемент списка из свойства *nrg.languages*.

### Multilanguage support

Для написания текста на различных языках предусмотрено два способа.
Первый заключается в использовании комментариев в конце строки, например:

```markdown
Some text<!--en-->
Некоторый текст<!--ru-->
```

Второй способ заключается в использовании особой конструкции:

```markdown
${en:"Some text", ru:"Некоторый текст"}
${en:'Some text', ru:'Некоторый текст'} 
```

Для экранирования кавычек используйте задвоение символа, например:

- `${en:'It''s working'}` → ``
- `${en:"Text with ""quotes"""}` → ``

### Виджеты

Виджеты позволяют вставить в документ программно сгенерированный текст.
Если вы используете **Nanolaba Readme Generator (NRG)** как java-библиотеку, то вы можете написать свой собственный
виджет.
Как это сделать рассказано в разделе [Расширенные возможности](#расширенные-возможности).

#### Виджет 'languages'

Этот компонент позволяет генерировать ссылки на другие версии документа (написанные на других языках).

<table>
<tr>
<th>Пример использования</th>
<th>Результат</th>
<th>Отображаемый результат</th>
</tr>
<tr><td>

```markdown
${widget:languages} 
```

</td><td>

```markdown
[ [en](WidgetLanguages.md) | **ru** ]
```

</td>
<td>

[ [en](WidgetLanguages.md) | **ru** ]

</td>
</tr>
</table>

---

#### Виджет 'import'

Этот компонент позволяет импортировать текст из другого документа или шаблона.

<table>
<tr><th>Пример использования</th></tr>
<tr><td>

```markdown
${widget:import(path='path/to/your/file/document.txt')}
${widget:import(path='path/to/your/file/document.txt', charset='windows-1251')}
${widget:import(path='path/to/your/file/template.src.md')}
${widget:import(path='path/to/your/file/template.src.md', run-generator='false')}
```

</td></tr>
<tr></tr>
</table>

Свойства виджета:

| Наименование  | Описание                                                       | Значение по умолчанию |
|:-------------:|----------------------------------------------------------------|:---------------------:|
|     path      | Путь к импортируемому файлу                                    |                       |
|    charset    | Кодировка, в которой написан файл                              |        `UTF-8`        |
| run-generator | Нужно ли при импорте файла-шаблона произвести генерацию текста |        `true`         |

При импорте файла шаблона генерация выполняется с использованием переменных, объявленных в родительском файле.
Это позволяет определять глобальные переменные в корневом файле и повторно
использовать их во всех импортированных шаблонах.
---


#### Виджет 'tableOfContents'

Этот компонент позволяет сформировать оглавление для документа.
Оглавление формируется из заголовков, сформированных при помощи знака решётки (`#`).
Заголовки, которые расположены по тексту выше виджета, игнорируются.

Если вам необходимо исключить какой-либо заголовок из оглавления, то для этого
его необходимо пометить комментарием `<!--toc.ignore-->`.

<table>
<tr><th>Пример использования</th></tr>
<tr><td>

```markdown
# Title of the document

## Abstract

${widget:tableOfContents(title = "${en:'Table of contents', ru:'Содержание'}", ordered = "true")}

## Part 1

### Chapter 1

### Chapter 2

### Chapter 3

### Ignored Chapter<!--toc.ignore-->

## Part 2

## Part 3
```

</td></tr>
<tr><th>Результат</th></tr>
<tr><td>

```markdown 
# Title of the document

## Abstract

## Table of contents

1. [Part 1](#part-1)
    1. [Chapter 1](#chapter-1)
    2. [Chapter 2](#chapter-2)
    3. [Chapter 3](#chapter-3)
2. [Part 2](#part-2)
3. [Part 3](#part-3)

## Part 1

### Chapter 1

### Chapter 2

### Chapter 3

### Ignored Chapter<!--toc.ignore-->

## Part 2

## Part 3
```

</td></tr>
</table>



Свойства виджета:

| Наименование | Описание                                       | Значение по умолчанию |
|:------------:|------------------------------------------------|:---------------------:|
|    title     | Заглавие оглавления                            |                       |
|   ordered    | Должны ли быть пронумерованы пункты оглавления |        `false`        |

---


#### Виджет 'date'

Этот компонент позволяет вставить в документ текущую дату.

<table>
<tr><th>Пример использования</th><th>Результат</th></tr>
<tr><td>

```markdown
Last updated: ${widget:date}
```

</td><td>

```markdown
Last updated: 10.08.2025 00:05:35
```

</td></tr>
<tr><td>

```markdown
${widget:date(pattern = 'dd.MM.yyyy')}
```

</td><td>

```markdown
10.08.2025
```

</td></tr>
</table>

Свойства виджета:

| Наименование | Описание                                                    | Значение по умолчанию |
|:------------:|-------------------------------------------------------------|:---------------------:|
|   pattern    | Шаблон, в соответствии с котором будет отформатирована дата | `dd.MM.yyyy HH:mm:ss` |

Подробнее о синтаксисе шаблона даты можно прочитать в
[документации языка Java](https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html).

---

#### Виджет 'todo'

Этот компонент позволяет вставить в документ ярко выделенный текст, с пометкой
о том, что работа над данным фрагментом еще не проведена.


<table>
<tr><th>Пример использования</th></tr>
<tr><td>

```markdown
${widget:todo(text="${en:'Example message', ru:'Пример сообщения'}")}
```

</td></tr>
<tr><th>Результат</th></tr>
<tr><td>

```markdown
<pre>📌 ⌛ Пример сообщения</pre>
```

</td></tr>
<tr><th>Отображаемый результат</th></tr>
<tr><td>
<pre>📌 ⌛ Пример сообщения</pre>
</td></tr>
</table>


Свойства виджета:

| Наименование | Описание           | Значение по умолчанию |
|:------------:|--------------------|:---------------------:|
|     text     | Отображаемый текст |   `Not done yet...`   |



## Обратная связь

Все пожелания и предложения отправляйте на почту: **nrg@nanolaba.com**.


---
*Дата последнего обновления: 10.08.2025*
