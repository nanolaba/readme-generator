<!-- This file was automatically generated by Nanolaba Readme Generator (NRG) 0.2-SNAPSHOT -->
<!-- Visit https://github.com/nanolaba/readme-generator for details -->


[ **en** | [ru](README.ru.md) ]

# Nanolaba Readme Generator (NRG)

**Nanolaba Readme Generator (NRG)** — is a program for automatically
generating [Markdown files]( https://en.wikipedia.org/wiki/Markdown) based on a prototype file.

## Overview

Using the **Nanolaba Readme Generator (NRG)** program, you can generate separate files for different languages
in [Markdown format]( https://en.wikipedia.org/wiki/Markdown) based on a single template file.
The template allows the use of variables and special components (widgets).
This document is an example of the result of this program.
The template from which this document was generated is available at the
following link - [README.src.md](https://github.com/nanolaba/readme-generator/blob/main/README.src.md?plain=1).

The latest stable version of the program is **0.1**.

The latest development version is **0.2-SNAPSHOT**.

**Nanolaba Readme Generator (NRG)** is written in Java and requires **Java 8** or higher to run.

The program can be run as:

* A standalone console application,
* A Maven plugin,
* Or integrated into a project as a third-party library.

## Table of contents
1. [Quick start](#quick-start)
1. [Usage](#usage)
	1. [Using the Command Line Interface](#using-the-command-line-interface)
	2. [Use as maven plugin](#use-as-maven-plugin)
	3. [Use as a java-library](#use-as-a-java-library)
2. [Template syntax](#template-syntax)
	1. [Variables](#variables)
	2. [Properties](#properties)
	3. [Multilanguage support](#multilanguage-support)
	4. [Widgets](#widgets)
		1. [Widget 'languages'](#widget-languages)
		2. [Widget 'tableOfContents'](#widget-tableofcontents)
		1. [Widget 'date'](#widget-date)
		2. [Widget 'todo'](#widget-todo)
1. [Advanced features](#advanced-features)
	1. [Creating a widget](#creating-a-widget)
2. [Feedback](#feedback)


## Quick start

**Step 1: Create a template (README.src.md)**

```markdown
<!--@nrg.languages=en,ru-->
<!--@nrg.defaultLanguage=en-->

<!--@title=**${en:'Hello, World!', ru:'Привет, Мир!'}**-->

${widget:languages}

# ${title}

${widget:tableOfContents(title = "${en:'Table of contents', ru:'Содержание'}", ordered = "true")}

## Part 1

### Chapter 1

English text<!--en-->
Русский текст<!--ru-->

```

**Step 2: Build the files**

*Option 1:* [Download](#using-the-command-line-interface) the program and run the command in the console:

```bash
nrg -f /path/to/README.src.md
```

*Option 2:* [Add](#use-as-maven-plugin) the Maven plugin to your project.

**Result**

<table>
<tr><th><b>README.md</b></th><th><b>README.ru.md</b></th></tr>
<tr><td>

```markdown
[ **en** | [ru](README.ru.md) ]

# Hello, World!

## Table of contents

1. [Part 1](#part-1)
    1. [Chapter 1](#chapter-1)

## Part 1

### Chapter 1

English text
```

</td><td>

```markdown
[ [en](README.md) | **ru** ]

# Привет, Мир!

## Содержание

1. [Part 1](#part-1)
    1. [Chapter 1](#chapter-1)

## Part 1

### Chapter 1

Русский текст
```

</td></tr></table>

## Usage

### Using the Command Line Interface

**Nanolaba Readme Generator (NRG)** is written in Java and requires **Java 8** or higher to run.
[Install](https://www.java.com/en/download/) Java if it’s not already present on your system.

[Download](https://github.com/nanolaba/readme-generator/releases/tag/v0.1) the latest
stable version of the application.

Unzip the downloaded archive. If you're using a Unix-like system, make the `nrg.sh` file executable:

```bash
chmod +x nrg.sh  
```

Now you can run the program to generate the files:

```bash
nrg -f /path/to/README.src.md
```

To see the list of available options for the console application, type:

```bash
nrg --help
```

### Use as maven plugin

Add the following code to your `pom.xml`:

```xml

<plugins>
    <plugin>
        <groupId>com.nanolaba</groupId>
        <artifactId>nrg-maven-plugin</artifactId>
        <version>0.1</version>
        <configuration>
            <file>
                <item>README.src.md</item>
                <item>another-file.src.md</item>
            </file>
        </configuration>
        <executions>
            <execution>
                <phase>compile</phase>
                <goals>
                    <goal>create-files</goal>
                </goals>
            </execution>
        </executions>
    </plugin>
</plugins>
```

To use SNAPSHOT versions, you also need to add the following code to your `pom.xml`:

```xml

<pluginRepositories>
    <pluginRepository>
        <id>central.sonatype.com-snapshot</id>
        <url>https://central.sonatype.com/repository/maven-snapshots</url>
        <releases>
            <enabled>false</enabled>
        </releases>
        <snapshots>
            <enabled>true</enabled>
            <updatePolicy>always</updatePolicy>
        </snapshots>
    </pluginRepository>
</pluginRepositories>
```

### Use as a java-library

**Maven (pom.xml)**

```xml

<dependency>
    <groupId>com.nanolaba</groupId>
    <artifactId>readme-generator</artifactId>
    <version>0.1</version>
</dependency>  
```

**Gradle (build.gradle)**

```groovy
implementation 'com.nanolaba:readme-generator:0.1'
```

**Manual download**

Get the JAR from [Maven Central](https://repo1.maven.org/maven2/com/nanolaba/readme-generator/0.1).
Add it to your project's classpath.

After this, you can call the file generation function in your project by passing
the same parameters as in the console application, for example:

```java
NRG.main("-f","path-to-file","--charset","UTF-8");
```

An alternative approach — and a more flexible one for configuring program
behavior — is to use the `Generator` class:

```java
package com.nanolaba.nrg.examples;

import com.nanolaba.nrg.core.GenerationResult;
import com.nanolaba.nrg.core.Generator;
import org.apache.commons.io.FileUtils;

import java.io.File;
import java.io.IOException;
import java.nio.charset.StandardCharsets;

public class GeneratorExample {

    public static void main(String[] args) throws IOException {

        Generator generator = new Generator(new File("template.md"), StandardCharsets.UTF_8);

        for (GenerationResult generationResult : generator.getResults()) {

            FileUtils.write(
                    new File("result." + generationResult.getLanguage() + ".md"),
                    generationResult.getContent(),
                    StandardCharsets.UTF_8);
        }
    }
}

```

## Template syntax

### Variables

The template syntax supports the use of variables. Variables are defined using the following construct:

```markdown
<!--@variable_name=variable value-->
```

The output of variable values is done using the following construct:

```markdown
${variable_name}
```

To display a construct like *${...}* without replacing it with
the variable's value, precede it with the '\\' character:

```markdown
\${variable_name}
```

<table>
<tr><th>Usage example</th><th>Result</th></tr>
<tr><td>

```markdown
<!--@app_name=My Application-->
<!--@app_version=**1.0.1**-->
<!--@app_descr=This is *${app_name}* version ${app_version}-->
${app_name} version ${app_version}
${app_descr}
\${app_descr}
```

</td><td>

```markdown
My Application version **1.0.1**
This is *My Application* version **1.0.1**
${app_descr}
```

</td></tr>
</table>

### Properties

Using the syntax for setting variable values in the template,
you can specify application properties, for example:

```markdown
<!--@nrg.languages=en,ru-->
<!--@nrg.defaultLanguage=en-->
```

**Available properties:**

***nrg.languages***

For each language, except the default language, a file will be generated with the name in the
format *source.language.md*, where *source* is the name of the original file and *language* is the
name of the language. The default value of this property is "en"

***nrg.defaultLanguage***

The language in which the main documentation file will be generated. The language name should be
included in the list defined by the property *nrg.languages*. The default value of this property is
the first element in the *nrg.languages* list.

### Multilanguage support

To write text in different languages, there are two methods available.
The first one involves using comments at the end of the line, for example:

```markdown
Some text<!--en-->
Некоторый текст<!--ru-->
```

The second method involves using a special construct:

```markdown
${en:"Some text", ru:"Некоторый текст"}
${en:'Some text', ru:'Некоторый текст'} 
```

To escape quotes, use character doubling, for example:

- `${en:'It''s working'}` → `It's working`
- `${en:"Text with ""quotes"""}` → `Text with "quotes"`

### Widgets

Widgets allow you to insert programmatically generated text into a document.
If you are using **Nanolaba Readme Generator (NRG)** as a Java library, you can write your own widget.
How to do this is explained in the [Advanced Features](#advanced-features) section.

#### Widget 'languages'

This component allows you to generate links to other versions of a document (written in other languages).

<table>
<tr>
<th>Usage example</th>
<th>Result</th>
<th>Displayed result</th>
</tr>
<tr><td>

```markdown
${widget:languages} 
```

</td><td>

```markdown
[ **en** | [ru](README.ru.md) ]
```

</td>
<td>

[ **en** | [ru](README.ru.md) ]

</td>
</tr>
</table>

---

#### Widget 'tableOfContents'

This component allows you to generate a table of contents for a document.
The table of contents is created from headers formed using the hashtag symbol (`#`).
Headers located above the widget in the text are ignored.

If you need to exclude a header from the table of contents, you should
mark it with a comment `<!--toc.ignore-->`.

<table>
<tr><th>Usage example</th></tr>
<tr><td>

```markdown
# Title of the document

## Abstract

${widget:tableOfContents(title = "${en:'Table of contents', ru:'Содержание'}", ordered = "true")}

## Part 1

### Chapter 1

### Chapter 2

### Chapter 3

### Ignored Chapter<!--toc.ignore-->

## Part 2

## Part 3
```

</td></tr>
<tr><th>Result</th></tr>
<tr><td>

```markdown 
# Title of the document

## Abstract

## Table of contents

1. [Part 1](#part-1)
    1. [Chapter 1](#chapter-1)
    2. [Chapter 2](#chapter-2)
    3. [Chapter 3](#chapter-3)
2. [Part 2](#part-2)
3. [Part 3](#part-3)

## Part 1

### Chapter 1

### Chapter 2

### Chapter 3

### Ignored Chapter<!--toc.ignore-->

## Part 2

## Part 3
```

</td></tr>
</table>



Widget parameters:

|  Name   | Description                                           | Default value |
|:-------:|-------------------------------------------------------|:-------------:|
|  title  | Title of the table of contents                        |               |
| ordered | Should the items in the table of contents be numbered |    `false`    |

---

#### Widget 'date'

This component allows you to insert the current date into a document.

<table>
<tr><th>Usage example</th><th>Result</th></tr>
<tr><td>

```markdown
Last updated: ${widget:date}
```

</td><td>

```markdown
Last updated: 17.07.2025 01:40:19
```

</td></tr>
<tr><td>

```markdown
${widget:date(pattern = 'dd.MM.yyyy')}
```

</td><td>

```markdown
17.07.2025
```

</td></tr>
</table>

Widget parameters:

|  Name   | Description                                           |     Default value     |
|:-------:|-------------------------------------------------------|:---------------------:|
| pattern | Pattern according to which the date will be formatted | `dd.MM.yyyy HH:mm:ss` |

You can read more about date pattern syntax in the
[Java documentation](https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html).

---

#### Widget 'todo'

This component allows you to insert prominently highlighted text into the document,
indicating that work on this fragment has not yet been done.


<table>
<tr><th>Usage example</th></tr>
<tr><td>

```markdown
${widget:todo(text="${en:'Example message', ru:'Пример сообщения'}")}
```

</td></tr>
<tr><th>Result</th></tr>
<tr><td>

```markdown
<pre>📌 ⌛ Example message</pre>
```

</td></tr>
<tr><th>Displayed result</th></tr>
<tr><td>
<pre>📌 ⌛ Example message</pre>
</td></tr>
</table>


Widget parameters:

| Name | Description    |   Default value   |
|:----:|----------------|:-----------------:|
| text | Displayed text | `Not done yet...` |

## Advanced features

### Creating a widget

To create a widget, you need to implement the `NRGWidget` interface or
extend an existing widget (e.g., `DefaultWidget`):

```java
package com.nanolaba.nrg.examples;

import com.nanolaba.nrg.core.GeneratorConfig;
import com.nanolaba.nrg.widgets.*;

public class ExampleWidget extends DefaultWidget {

    @Override
    public String getName() {
        return "exampleWidget";
    }

    @Override
    public String getBody(WidgetTag widgetTag, GeneratorConfig config, String language) {
        String parameters = widgetTag.getParameters();
        Map<String, String> map = NRGUtil.parseParametersLine(parameters);

        return "Hello, " + map.get("name") + "!";
    }
}
```

Now you can use the widget in your template:

```markdown
${widget:exampleWidget(name='World')}
```

Now you need to launch the program and make it use the new template. There are two ways to do this:

**Option 1:** Using the NRG class static method:

```javascript
NRG.addWidget(new ExampleWidget());
NRG.main("--charset", "UTF-8", "-f", "/path/to/your/file.src.md");
```

**Option 2:** Use the Generator class and pass the widget list to its constructor:

```java
Generator generator = new Generator(new File("README.src.md"),
        "${widget:exampleWidget(name='World')}",
        Collections.singletonList(new ExampleWidget()));

Collection<GenerationResult> results = generator.getResults();
```

## Feedback

For all feedback and suggestions, please email: **nrg@nanolaba.com**.

---
*Last updated: 17.07.2025*
